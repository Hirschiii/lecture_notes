\startenvironment env_00_document

% \usepath[{mathe, mathe/unterricht}]

\startluacode
function include_markdown_files(directory, template)
	local lfs = require("lfs")
	for file in lfs.dir(directory) do
		if file:match("%.md$") then
			context("\\processmarkdownfile[template=" .. template .."]{" .. directory .. "/" .. file .."}")
		end
	end
end
\stopluacode


\setupinteraction                                           
  [state=start,                                             % enable hyperlinks
   color=niv3color]                            % choose the color of hyperlinks

\placebookmarks 
  [chapter,section,subsection]   % make bookmarks visible when opening document
  [chapter,section,subsection]   % select unfolded levels when opening document
  
\setupinteractionscreen
  [option=bookmark,nomenubar]


% Setup the title page
\unprotect

% \setups[namespace:set] is automatically called right after 'set' is assigned
\setvariables[meta]
  [title={Schul Notizen},
   subtitle={Abitur 2025},
   date={},
   author={Niklas von Hirschfeld},
  ]
  

\def\MyTitlePage{
\startalignment[middle]
    \definedfont[SerifBold at 24pt]
	\getvariable{meta}{title}
    \blank[3*line]
    \definedfont[Serif at 18pt]
	\getvariable{meta}{subtitle}
    \blank[2*line]
	\getvariable{meta}{author}
\stopalignment

}

\protect

\stopenvironment
