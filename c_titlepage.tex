\startcomponent c_titlepage

% \startalignment[middle]
%     \definedfont[SerifBold at 24pt]
% 	\getvariable{meta}{title}
%     \blank[3*line]
%     \definedfont[Serif at 18pt]
% 	\getvariable{meta}{subtitle}
%     \blank[2*line]
% 	\getvariable{meta}{author}
% \stopalignment

% \setuppapersize[A6]

\setupbodyfont [palatino]

\definecolor [Top] [h=a5b291]
\definecolor [Bottom] [h=b7c1a7]
\definecolor [TitleColor] [h=96433a]

\define[1]\titlefont{%
  \setcharacterkerning[extrakerning]%
  \cap
  \definedfont[#1]%
  \ignorespaces
}

\starttext

\startMPpage

    StartPage ;

    numeric w ; w := bbwidth(Page) ;
    numeric h ; h := bbheight(Page) ;

    fill (unitsquare xyscaled (w,.8h)) withcolor \MPcolor{Bottom} ;
    fill (unitsquare xyscaled (w,.2h) yshifted .8h) withcolor \MPcolor{Top} ;
    draw (0,.8h) -- (w,.8h) withpen pensquare scaled 2pt withcolor white ;

    draw textext.rt("\definedfont[Serif at 10pt]\getvariable{meta}{author}") shifted (.1w,.95h) ;
    draw textext.rt("\titlefont{Serif at 20pt}\getvariable{meta}{title}") shifted (.1w,.85h) withcolor \MPcolor{TitleColor} ;
    draw textext.rt("\titlefont{SerifBold at 10pt}\getvariable{meta}{subtitle}") shifted (.1w,.75h) withcolor \MPcolor{TitleColor} ;
    draw textext.rt("\titlefont{SerifBold at 10pt}\getvariable{meta}{date}") shifted (.1w,.70h) ;


%    picture p; p := externalfigure "matterhorn.png" ;
%    draw p scaled (w/bbwidth p) ;

    StopPage ;

\stopMPpage

\stoptext

\stopcomponent
